# ===============================
# CAMOCA PRODUCTION CONFIGURATION
# Server: srv906504.hstgr.cloud (31.97.110.194)
# Database: camoca_db
# Context: /camoca
# Frontend Port: 3003
# ===============================

# Server Configuration - Production
server.port=8080
server.servlet.context-path=/camoca

# Database Configuration - Production (camoca_db)
spring.datasource.url=jdbc:mysql://localhost:3306/camoca_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Jakarta&createDatabaseIfNotExist=true&autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# HikariCP Configuration - Production
spring.datasource.hikari.maximum-pool-size=30
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.auto-commit=true
spring.datasource.hikari.read-only=false
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-timeout=30000

# JPA/Hibernate Configuration - Production
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.open-in-view=false
spring.jpa.defer-datasource-initialization=true

# Additional Hibernate Configuration
spring.jpa.properties.hibernate.jdbc.batch_size=40
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=false
spring.jpa.properties.hibernate.generate_statistics=false

# Transaction Configuration
spring.transaction.default-timeout=30
spring.transaction.rollback-on-commit-failure=true

# Logging Configuration - Production
logging.level.com.shadcn.backend=INFO
logging.level.org.springframework.boot.autoconfigure=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.com.zaxxer.hikari=WARN
logging.pattern.console=%d{HH:mm:ss} %-5level %logger{20} - %msg%n

# File Logging Configuration - Production
logging.file.name=/opt/camoca/logs/camoca-backend.log
logging.file.max-size=50MB
logging.file.max-history=30
logging.logback.rollingpolicy.file-name-pattern=/opt/camoca/logs/camoca-backend.%d{yyyy-MM-dd}.%i.log
logging.logback.rollingpolicy.max-file-size=50MB
logging.logback.rollingpolicy.max-history=60

# File Upload Configuration - Production
app.upload.dir=/opt/camoca/uploads
app.upload.document-dir=/opt/camoca/uploads/documents
app.upload.image-dir=/opt/camoca/uploads/images
app.upload.pdf-dir=/opt/camoca/uploads/pdfs

# Backend URL Configuration - Production
app.backend.url=http://srv906504.hstgr.cloud
app.upload.max-file-size=100MB
app.upload.allowed-extensions=jpg,jpeg,png,gif,pdf,doc,docx,txt,csv,md,zip,rar,bmp

# Image Upload Configuration
app.image.max-size=10MB
app.image.upload-dir=/opt/camoca/uploads/images
app.image.allowed-types=jpg,jpeg,png,gif,webp
app.video.max-size=100MB
app.video.upload-dir=/opt/camoca/uploads/videos
app.video.allowed-types=mp4,avi,mov,wmv,flv,webm
app.upload.allowed-types=jpg,jpeg,png,gif,mp4,avi,mov,wmv,flv,webm
app.upload.image-max-size=10MB
app.upload.video-max-size=100MB

# Image Serving Configuration - Production
app.image.base-url=http://srv906504.hstgr.cloud
app.image.serve-enabled=true
app.image.serve-path=/api/images

# Document Serving Configuration - Production
app.document.upload-dir=/opt/camoca/uploads/documents
app.document.max-file-size=50MB
app.document.allowed-types=pdf,doc,docx,xls,xlsx,ppt,pptx,txt,rtf,odt,ods,odp
app.document.base-url=http://srv906504.hstgr.cloud
app.document.serve-enabled=true

# CORS Configuration - Production
cors.allowed-origin-patterns=http://srv906504.hstgr.cloud:*,http://31.97.110.194:*,http://localhost:*
cors.allow-credentials=true

# Multipart Configuration
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=150MB

# Cache Configuration - Production
spring.cache.type=caffeine
spring.cache.cache-names=provinces,regencies,districts,villages
spring.cache.caffeine.spec=maximumSize=5000,expireAfterWrite=24h

# Wilayah API Configuration
app.wilayah.api.base-url=https://wilayah.id/api
app.wilayah.api.timeout=60000
app.wilayah.api.cache-enabled=true

# Security Configuration - Production
app.security.jwt.secret=camoca-jwt-secret-production-2025-srv906504
app.security.jwt.expiration=86400000

# Payment Configuration
app.payment.prefix=PAY-
app.payment.id-length=8

# WhatsApp API Configuration
whatsapp.api.url=https://tegal.wablas.com
whatsapp.api.token=oHDDXxRgr1XghtF9507vuf79HXFG22ReSBror2QgX2buGFKYNpfCBgY.shIPwVy1
whatsapp.api.sender=6285157661640
whatsapp.api.enabled=true

# Frontend URL Configuration - Production
app.frontend.url=http://srv906504.hstgr.cloud:3003
frontend.url=http://srv906504.hstgr.cloud:3003

# Master Data Configuration
master.data.agama.force-reinsert=false
master.data.spesialisasi.force-reinsert=false
master.data.posisi.force-reinsert=false
master.data.hobi.force-reinsert=false

# Birthday Notification Configuration
birthday.notification.enabled=true
birthday.notification.time=0 0 7 * * *
birthday.notification.timezone=Asia/Jakarta
birthday.notification.message=Selamat ulang tahun! Semoga panjang umur, sehat selalu, dan sukses dalam karir.
birthday.notification.days-ahead=0
birthday.notification.include-age=true

# Invitation System Configuration
app.invitation.expiry-days=7

# Location Data Configuration
location.data.force-reinsert=false

# Default Admin User Configuration
app.admin.username=admin
app.admin.password=admin123
app.admin.email=muhammad.df@gmail.com
app.admin.fullname=Administrator Sistem
app.admin.phone=085352073620

# Security Configuration - Production (Restrict error details)
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never
server.error.include-exception=false

# Actuator Configuration - Production (Restricted)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.endpoints.web.base-path=/actuator

# Midtrans Configuration - Sandbox (for testing)
midtrans.merchant.id=${MIDTRANS_MERCHANT_ID:YOUR_MERCHANT_ID}
midtrans.client.key=${MIDTRANS_CLIENT_KEY:YOUR_CLIENT_KEY}
midtrans.server.key=${MIDTRANS_SERVER_KEY:YOUR_SERVER_KEY}
midtrans.is.production=false
midtrans.api.url=https://api.sandbox.midtrans.com/v2
midtrans.snap.url=https://app.sandbox.midtrans.com/snap/v1/transactions

# Payment Verification Scheduler Configuration
payment.verification.scheduler.enabled=true
payment.verification.scheduler.interval=300000
payment.verification.scheduler.initial-delay=60000
payment.verification.scheduler.max-age-hours=24
